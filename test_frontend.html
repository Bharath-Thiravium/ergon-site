<!DOCTYPE html>
<html>
<head>
    <title>Test Outstanding API</title>
</head>
<body>
    <h1>Outstanding Invoices Test</h1>
    <div id="result"></div>
    
    <script>
    async function testAPI() {
        try {
            const response = await fetch('/ergon/src/api/outstanding.php?prefix=BKGE&limit=3');
            const result = await response.json();
            
            console.log('API Response:', result);
            
            const resultDiv = document.getElementById('result');
            
            if (result.success && result.data.length > 0) {
                let html = '<table border="1"><tr><th>Invoice</th><th>Customer</th><th>Shipping</th></tr>';
                result.data.forEach(invoice => {
                    html += `<tr>
                        <td>${invoice.invoice_number}</td>
                        <td>${invoice.customer_name}</td>
                        <td>üìç ${invoice.shipping_address || 'N/A'}</td>
                    </tr>`;
                });
                html += '</table>';
                resultDiv.innerHTML = html;
            } else {
                resultDiv.innerHTML = 'No data found';
            }
        } catch (error) {
            console.error('Error:', error);
            document.getElementById('result').innerHTML = 'Error: ' + error.message;
        }
    }
    
    // Test immediately
    testAPI();
    </script>
</body>
</html>